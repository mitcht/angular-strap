{"version":3,"sources":["modules/dimensions.js"],"names":["angular","value","element","currentStyle","nodeName","window","getComputedStyle","name","prop","fn","css","extra","boxRect","getBoundingClientRect","style","height","offsetHeight","offset","left","docElement","ownerDocument","width","curPosition","curLeft","curCSSTop","position","pageYOffset","documentElement","scrollTop","clientTop","pageXOffset","scrollLeft","clientLeft","curCSSLeft","options","i","calculatePosition","curTop","curOffset","indexOf","curElem","props","parseFloat","isFunction","call","top","using","offsetParentRect","offsetParentElement","offsetParent","offsetWidth","outer"],"mappings":"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","file":"modules/dimensions.min.js","sourcesContent":["'use strict';\r\n\r\nangular.module('mgcrea.ngStrap.helpers.dimensions', [])\r\n\r\n  .factory('dimensions', function($document, $window) {\r\n\r\n    var jqLite = angular.element;\r\n    var fn = {};\r\n\r\n    /**\r\n     * Test the element nodeName\r\n     * @param element\r\n     * @param name\r\n     */\r\n    var nodeName = fn.nodeName = function(element, name) {\r\n      return element.nodeName && element.nodeName.toLowerCase() === name.toLowerCase();\r\n    };\r\n\r\n    /**\r\n     * Returns the element computed style\r\n     * @param element\r\n     * @param prop\r\n     * @param extra\r\n     */\r\n    fn.css = function(element, prop, extra) {\r\n      var value;\r\n      if (element.currentStyle) { //IE\r\n        value = element.currentStyle[prop];\r\n      } else if (window.getComputedStyle) {\r\n        value = window.getComputedStyle(element)[prop];\r\n      } else {\r\n        value = element.style[prop];\r\n      }\r\n      return extra === true ? parseFloat(value) || 0 : value;\r\n    };\r\n\r\n    /**\r\n     * Provides read-only equivalent of jQuery's offset function:\r\n     * @required-by bootstrap-tooltip, bootstrap-affix\r\n     * @url http://api.jquery.com/offset/\r\n     * @param element\r\n     */\r\n    fn.offset = function(element) {\r\n      var boxRect = element.getBoundingClientRect();\r\n      var docElement = element.ownerDocument;\r\n      return {\r\n        width: boxRect.width || element.offsetWidth,\r\n        height: boxRect.height || element.offsetHeight,\r\n        top: boxRect.top + (window.pageYOffset || docElement.documentElement.scrollTop) - (docElement.documentElement.clientTop || 0),\r\n        left: boxRect.left + (window.pageXOffset || docElement.documentElement.scrollLeft) - (docElement.documentElement.clientLeft || 0)\r\n      };\r\n    };\r\n  \r\n    /**\r\n     * Provides set equivalent of jQuery's offset function:\r\n     * @required-by bootstrap-tooltip\r\n     * @url http://api.jquery.com/offset/\r\n     * @param element\r\n     * @param options\r\n     * @param i\r\n     */\r\n    fn.setOffset = function (element, options, i) {\r\n      var curPosition,\r\n          curLeft,\r\n          curCSSTop,\r\n          curTop,\r\n          curOffset,\r\n          curCSSLeft,\r\n          calculatePosition,\r\n          position = fn.css(element, 'position'),\r\n          curElem = angular.element(element),\r\n          props = {};\r\n      \r\n      // Set position first, in-case top/left are set even on static elem\r\n      if (position === 'static') {\r\n        element.style.position = 'relative';\r\n      }\r\n      \r\n      curOffset = fn.offset(element);\r\n      curCSSTop = fn.css(element, 'top');\r\n      curCSSLeft = fn.css(element, 'left');\r\n      calculatePosition = (position === 'absolute' || position === 'fixed') && \r\n                          (curCSSTop + curCSSLeft).indexOf('auto') > -1;\r\n      \r\n      // Need to be able to calculate position if either\r\n      // top or left is auto and position is either absolute or fixed\r\n      if (calculatePosition) {\r\n        curPosition = fn.position(element);\r\n        curTop = curPosition.top;\r\n        curLeft = curPosition.left;\r\n      } else {\r\n        curTop = parseFloat(curCSSTop) || 0;\r\n        curLeft = parseFloat(curCSSLeft) || 0;\r\n      }\r\n      \r\n      if (angular.isFunction(options)) {\r\n        options = options.call(element, i, curOffset);\r\n      }\r\n      \r\n      if (options.top !== null ) {\r\n        props.top = (options.top - curOffset.top) + curTop;\r\n      }\r\n      if ( options.left !== null ) {\r\n        props.left = (options.left - curOffset.left) + curLeft;\r\n      }\r\n\r\n      if ('using' in options) {\r\n        options.using.call(curElem, props);\r\n      } else {\r\n        curElem.css({\r\n          top: props.top + 'px',\r\n          left: props.left + 'px'\r\n        });\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Provides read-only equivalent of jQuery's position function\r\n     * @required-by bootstrap-tooltip, bootstrap-affix\r\n     * @url http://api.jquery.com/offset/\r\n     * @param element\r\n     */\r\n    fn.position = function(element) {\r\n\r\n      var offsetParentRect = {top: 0, left: 0},\r\n          offsetParentElement,\r\n          offset;\r\n\r\n      // Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is it's only offset parent\r\n      if (fn.css(element, 'position') === 'fixed') {\r\n\r\n        // We assume that getBoundingClientRect is available when computed position is fixed\r\n        offset = element.getBoundingClientRect();\r\n\r\n      } else {\r\n\r\n        // Get *real* offsetParentElement\r\n        offsetParentElement = offsetParent(element);\r\n\r\n        // Get correct offsets\r\n        offset = fn.offset(element);\r\n        if (!nodeName(offsetParentElement, 'html')) {\r\n          offsetParentRect = fn.offset(offsetParentElement);\r\n        }\r\n\r\n        // Add offsetParent borders\r\n        offsetParentRect.top += fn.css(offsetParentElement, 'borderTopWidth', true);\r\n        offsetParentRect.left += fn.css(offsetParentElement, 'borderLeftWidth', true);\r\n      }\r\n\r\n      // Subtract parent offsets and element margins\r\n      return {\r\n        width: element.offsetWidth,\r\n        height: element.offsetHeight,\r\n        top: offset.top - offsetParentRect.top - fn.css(element, 'marginTop', true),\r\n        left: offset.left - offsetParentRect.left - fn.css(element, 'marginLeft', true)\r\n      };\r\n\r\n    };\r\n\r\n    /**\r\n     * Returns the closest, non-statically positioned offsetParent of a given element\r\n     * @required-by fn.position\r\n     * @param element\r\n     */\r\n    var offsetParent = function offsetParentElement(element) {\r\n      var docElement = element.ownerDocument;\r\n      var offsetParent = element.offsetParent || docElement;\r\n      if(nodeName(offsetParent, '#document')) return docElement.documentElement;\r\n      while(offsetParent && !nodeName(offsetParent, 'html') && fn.css(offsetParent, 'position') === 'static') {\r\n        offsetParent = offsetParent.offsetParent;\r\n      }\r\n      return offsetParent || docElement.documentElement;\r\n    };\r\n\r\n    /**\r\n     * Provides equivalent of jQuery's height function\r\n     * @required-by bootstrap-affix\r\n     * @url http://api.jquery.com/height/\r\n     * @param element\r\n     * @param outer\r\n     */\r\n    fn.height = function(element, outer) {\r\n      var value = element.offsetHeight;\r\n      if(outer) {\r\n        value += fn.css(element, 'marginTop', true) + fn.css(element, 'marginBottom', true);\r\n      } else {\r\n        value -= fn.css(element, 'paddingTop', true) + fn.css(element, 'paddingBottom', true) + fn.css(element, 'borderTopWidth', true) + fn.css(element, 'borderBottomWidth', true);\r\n      }\r\n      return value;\r\n    };\r\n\r\n    /**\r\n     * Provides equivalent of jQuery's width function\r\n     * @required-by bootstrap-affix\r\n     * @url http://api.jquery.com/width/\r\n     * @param element\r\n     * @param outer\r\n     */\r\n    fn.width = function(element, outer) {\r\n      var value = element.offsetWidth;\r\n      if(outer) {\r\n        value += fn.css(element, 'marginLeft', true) + fn.css(element, 'marginRight', true);\r\n      } else {\r\n        value -= fn.css(element, 'paddingLeft', true) + fn.css(element, 'paddingRight', true) + fn.css(element, 'borderLeftWidth', true) + fn.css(element, 'borderRightWidth', true);\r\n      }\r\n      return value;\r\n    };\r\n\r\n    return fn;\r\n\r\n  });\r\n"],"sourceRoot":"/source/"}